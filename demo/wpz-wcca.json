{
  /* Enables keys and command line options if set to 'true'. */
  "debug": true,
  "end-frame": 4583,
  "music": {
    "bpm": 110.0,
    "file": "data/and_silence_in_veins.wav"
  },
  "load": {
    "image": "data/kickstart-0.8",
    "palette": "data/kickstart-0.pal"
  },
  "resources": {
    "WeCanLogoScreenImg": { "type": "image", "path": "data/wecan-logo-screen-256.8" },
    "WeCanLogoScreenPal": { "type": "palette", "path": "data/wecan-logo-screen-256.pal" },
    "WeCanLogoMesh": { "type": "mesh3d", "path": "data/wecan-logo.robj" },
    "RaycastTextureImg": { "type": "image", "path": "data/raycast-208.8" },
    "RaycastTexturePal": { "type": "palette", "path": "data/raycast-208.pal" },
    "RaycastColorMap": { "type": "image", "path": "data/raycast-shades.8" },
    "WhelpzLogoImg": { "type": "image", "path": "data/rork-logo_whelpz_02-48.8" },
    "WhelpzLogoPal": { "type": "palette", "path": "data/rork-logo_whelpz_02-48.pal" },
    "BackgroundImg": { "type": "image", "path": "data/background.8" },
    "CompTxt0Img": { "type": "image", "path": "data/compose-0-128.8" },
    "CompTxt0Pal": { "type": "palette", "path": "data/compose-0-128.pal" },
    "CompTxt1Img": { "type": "image", "path": "data/compose-1-128.8" },
    "CompTxt1Pal": { "type": "palette", "path": "data/compose-1-128.pal" }
  },
  "timeline": [
  {
    "type":  "timeslice",
    "range": [0, [64, "beat"]],
    "unit":  [1, "beat"],
    "parts": [
    {
      "type": "once",
      "range": [0, -1],
      "set": {
        "ClipartImg" : { "resource": "WhelpzLogoImg" },
        "ThePalette" : { "resource": "RaycastTexturePal" },
        "LightMap" : { "resource": "BackgroundImg" },
        "RaycastTexture" : { "resource": "RaycastTextureImg" },
        "ClipartY" : 28
      },
      "call": ["ReloadPalette"]
    }, {
      "type": "each-frame", "range": [0, 22],
      "call": ["RaycastSetView1"]
    }, {
      "type": "each-frame", "range": [22, 42],
      "call": ["RaycastSetView2"]
    }, {
      "type": "each-frame", "range": [42, 64],
      "call": ["RaycastSetView3"]
    }, {
      "type": "each-frame", "range": [0, 64],
      "call": ["RaycastCalculateView", "RenderRaycast"]
    }, {
      "type": "each-frame", "range": [0, 22],
      "call": ["CalculateShadeMap1"]
    }, {
      "type": "each-frame", "range": [42, 64],
      "call": ["CalculateShadeMap2"]
    }, {
      "type": "each-frame", "range": [0, 64],
      "call": ["RenderRaycastLight"]
    }, {
      "type": "each-frame", "range": [22, 42],
      "call": ["BlitLightMapToCanvas", "BlitClipartToCanvas"]
    }
    ]
  }, {
    "type":  "timeslice",
    "range": [[64, "beat"], -1],
    "unit":  [1, "beat"],
    "parts": [{
      "type": "once", "range": [0, -1],
      "set": {
        "ThePalette" : { "resource": "CompTxt0Pal" }
      },
      "call": ["ClearComposeMap", "ReloadPalette"]
    }, {
      "type": "each-frame", "range": [0, 4], "call": ["FadeFromWhite"]
    }, {
      "type": "each-frame", "range": [8, -1],
      "call": ["CalculateComposeMap", "CycleHue", "ReloadPalette"]
    }, {
      "type": "each-frame", "range": [0, -1],
      "call": ["ComposeMaps"]
    }]
  }, {
    "type":  "each-frame",
    "range": [0, -1],
    "call":  ["RenderCanvas"]
  }, {
    "type":  "each-frame",
    "range": [0, -1, [5, "frame"]],
    "call":  ["FeedAudioStream"]
  }]
}

// vim: ts=2 sw=2 expandtab
